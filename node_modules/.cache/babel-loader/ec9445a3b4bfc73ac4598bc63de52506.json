{"ast":null,"code":"import { bisector } from \"d3-array\";\nimport identity from \"./identity\";\nimport noop from \"./noop\";\nexport { default as rebind } from \"./rebind\";\nexport { default as zipper } from \"./zipper\";\nexport { default as merge } from \"./merge\";\nexport { default as slidingWindow } from \"./slidingWindow\";\nexport { default as identity } from \"./identity\";\nexport { default as noop } from \"./noop\";\nexport { default as shallowEqual } from \"./shallowEqual\";\nexport { default as mappedSlidingWindow } from \"./mappedSlidingWindow\";\nexport { default as accumulatingWindow } from \"./accumulatingWindow\";\nexport * from \"./barWidth\";\nexport * from \"./colors\";\nexport * from \"./strokeDasharray\";\nexport * from \"./withDeviceRatio\";\nexport function getLogger(prefix) {\n  let logger = noop;\n\n  if (process.env.NODE_ENV !== \"production\") {\n    logger = require(\"debug\")(\"react-financial-charts:\" + prefix);\n  }\n\n  return logger;\n}\nexport function sign(x) {\n  // @ts-ignore\n  return (x > 0) - (x < 0);\n}\nexport const yes = () => true;\nexport function path(loc = []) {\n  const key = Array.isArray(loc) ? loc : [loc];\n  const length = key.length;\n  return function (obj, defaultValue) {\n    if (length === 0) {\n      return isDefined(obj) ? obj : defaultValue;\n    }\n\n    let index = 0;\n\n    while (obj != null && index < length) {\n      obj = obj[key[index++]];\n    }\n\n    return index === length ? obj : defaultValue;\n  };\n}\nexport function functor(v) {\n  return typeof v === \"function\" ? v : () => v;\n}\nexport function createVerticalLinearGradient(stops) {\n  return function (moreProps, ctx) {\n    const {\n      chartConfig: {\n        height\n      }\n    } = moreProps;\n    const grd = ctx.createLinearGradient(0, height, 0, 0);\n    stops.forEach(each => {\n      grd.addColorStop(each.stop, each.color);\n    });\n    return grd;\n  };\n}\nexport function getClosestItemIndexes2(array, value, accessor) {\n  let left = bisector(accessor).left(array, value);\n  left = Math.max(left - 1, 0);\n  let right = Math.min(left + 1, array.length - 1);\n  const item = accessor(array[left]);\n\n  if (item >= value && item <= value) {\n    right = left;\n  }\n\n  return {\n    left,\n    right\n  };\n}\nexport function getClosestValue(inputValue, currentValue) {\n  const values = isArray(inputValue) ? inputValue : [inputValue];\n  const diff = values.map(each => each - currentValue).reduce((diff1, diff2) => Math.abs(diff1) < Math.abs(diff2) ? diff1 : diff2);\n  return currentValue + diff;\n} // @ts-ignore\n\nexport function find(list, predicate, context = this) {\n  for (let i = 0; i < list.length; ++i) {\n    if (predicate.call(context, list[i], i, list)) {\n      return list[i];\n    }\n  }\n\n  return undefined;\n}\nexport function d3Window(node) {\n  const d3win = node && (node.ownerDocument && node.ownerDocument.defaultView || node.document && node || node.defaultView);\n  return d3win;\n}\nexport const MOUSEENTER = \"mouseenter.interaction\";\nexport const MOUSELEAVE = \"mouseleave.interaction\";\nexport const MOUSEMOVE = \"mousemove.pan\";\nexport const MOUSEUP = \"mouseup.pan\";\nexport const TOUCHMOVE = \"touchmove.pan\";\nexport const TOUCHEND = \"touchend.pan touchcancel.pan\";\nexport function getTouchProps(touch) {\n  if (!touch) {\n    return {};\n  }\n\n  return {\n    pageX: touch.pageX,\n    pageY: touch.pageY,\n    clientX: touch.clientX,\n    clientY: touch.clientY\n  };\n}\nexport function getClosestItemIndexes(array, value, accessor) {\n  let lo = 0;\n  let hi = array.length - 1;\n\n  while (hi - lo > 1) {\n    const mid = Math.round((lo + hi) / 2);\n\n    if (accessor(array[mid]) <= value) {\n      lo = mid;\n    } else {\n      hi = mid;\n    }\n  } // for Date object === does not work, so using the <= in combination with >=\n  // the same code works for both dates and numbers\n\n\n  if (accessor(array[lo]).valueOf() === value.valueOf()) {\n    hi = lo;\n  }\n\n  if (accessor(array[hi]).valueOf() === value.valueOf()) {\n    lo = hi;\n  }\n\n  if (accessor(array[lo]) < value && accessor(array[hi]) < value) {\n    lo = hi;\n  }\n\n  if (accessor(array[lo]) > value && accessor(array[hi]) > value) {\n    hi = lo;\n  }\n\n  return {\n    left: lo,\n    right: hi\n  };\n}\nexport function getClosestItem(array, value, accessor) {\n  const {\n    left,\n    right\n  } = getClosestItemIndexes(array, value, accessor);\n\n  if (left === right) {\n    return array[left];\n  }\n\n  const closest = Math.abs(accessor(array[left]) - value) < Math.abs(accessor(array[right]) - value) ? array[left] : array[right];\n  return closest;\n}\nexport function head(array, accessor) {\n  if (accessor && array) {\n    let value; // tslint:disable-next-line: prefer-for-of\n\n    for (let i = 0; i < array.length; i++) {\n      value = array[i];\n\n      if (isDefined(accessor(value))) {\n        return value;\n      }\n    }\n\n    return undefined;\n  }\n\n  return array ? array[0] : undefined;\n}\nexport function tail(array, accessor) {\n  if (accessor && array) {\n    return array.map(accessor).slice(1);\n  }\n\n  return array ? array.slice(1) : undefined;\n}\nexport const first = head;\nexport function last(array, accessor) {\n  if (accessor && array) {\n    let value;\n\n    for (let i = array.length - 1; i >= 0; i--) {\n      value = array[i];\n\n      if (isDefined(accessor(value))) {\n        return value;\n      }\n    }\n\n    return undefined;\n  }\n\n  const length = array ? array.length : 0;\n  return length ? array[length - 1] : undefined;\n}\nexport const isDefined = d => {\n  return d !== null && d !== undefined;\n};\nexport function isNotDefined(d) {\n  return !isDefined(d);\n}\nexport function isObject(d) {\n  return isDefined(d) && typeof d === \"object\" && !Array.isArray(d);\n}\nexport const isArray = Array.isArray;\nexport function touchPosition(touch, e) {\n  const container = e.target;\n  const rect = container.getBoundingClientRect();\n  const x = touch.clientX - rect.left - container.clientLeft;\n  const y = touch.clientY - rect.top - container.clientTop;\n  const xy = [Math.round(x), Math.round(y)];\n  return xy;\n}\nexport function mousePosition(e, defaultRect) {\n  const container = e.currentTarget;\n  const rect = defaultRect || container.getBoundingClientRect();\n  const x = e.clientX - rect.left - container.clientLeft;\n  const y = e.clientY - rect.top - container.clientTop;\n  const xy = [Math.round(x), Math.round(y)];\n  return xy;\n}\nexport function clearCanvas(canvasList, ratio) {\n  canvasList.forEach(each => {\n    each.setTransform(1, 0, 0, 1, 0, 0);\n    each.clearRect(-1, -1, each.canvas.width + 2, each.canvas.height + 2);\n    each.scale(ratio, ratio);\n  });\n}\nexport function capitalizeFirst(str) {\n  return str.charAt(0).toUpperCase() + str.substring(1);\n}\nexport function toObject(array, iteratee = identity) {\n  return array.reduce((returnObj, a) => {\n    const [key, value] = iteratee(a);\n    return Object.assign(Object.assign({}, returnObj), {\n      [key]: value\n    });\n  }, {});\n} // copied from https://github.com/lodash/lodash/blob/master/mapValue.js\n\nexport function mapValue(object, iteratee) {\n  object = Object(object);\n  const result = {};\n  Object.keys(object).forEach(key => {\n    const mappedValue = iteratee(object[key], key, object);\n\n    if (isDefined(mappedValue)) {\n      result[key] = mappedValue;\n    }\n  });\n  return result;\n} // copied from https://github.com/lodash/lodash/blob/master/mapObject.js\n\nexport function mapObject(object = {}, iteratee = identity) {\n  const props = Object.keys(object);\n  const result = new Array(props.length);\n  props.forEach((key, index) => {\n    // @ts-ignore\n    result[index] = iteratee(object[key], key, object);\n  });\n  return result;\n}\nexport function replaceAtIndex(array, index, value) {\n  if (isDefined(array) && array.length > index) {\n    return array.slice(0, index).concat(value).concat(array.slice(index + 1));\n  }\n\n  return array;\n} // copied from https://github.com/lodash/lodash/blob/master/forOwn.js\n\nexport function forOwn(obj, iteratee) {\n  const object = Object(obj);\n  Object.keys(object).forEach(key => iteratee(object[key], key, object));\n}","map":{"version":3,"sources":["../../src/utils/index.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["import { bisector } from \"d3-array\";\nimport identity from \"./identity\";\nimport noop from \"./noop\";\nexport { default as rebind } from \"./rebind\";\nexport { default as zipper } from \"./zipper\";\nexport { default as merge } from \"./merge\";\nexport { default as slidingWindow } from \"./slidingWindow\";\nexport { default as identity } from \"./identity\";\nexport { default as noop } from \"./noop\";\nexport { default as shallowEqual } from \"./shallowEqual\";\nexport { default as mappedSlidingWindow } from \"./mappedSlidingWindow\";\nexport { default as accumulatingWindow } from \"./accumulatingWindow\";\nexport * from \"./barWidth\";\nexport * from \"./colors\";\nexport * from \"./strokeDasharray\";\nexport * from \"./withDeviceRatio\";\nexport function getLogger(prefix) {\n    let logger = noop;\n    if (process.env.NODE_ENV !== \"production\") {\n        logger = require(\"debug\")(\"react-financial-charts:\" + prefix);\n    }\n    return logger;\n}\nexport function sign(x) {\n    // @ts-ignore\n    return (x > 0) - (x < 0);\n}\nexport const yes = () => true;\nexport function path(loc = []) {\n    const key = Array.isArray(loc) ? loc : [loc];\n    const length = key.length;\n    return function (obj, defaultValue) {\n        if (length === 0) {\n            return isDefined(obj) ? obj : defaultValue;\n        }\n        let index = 0;\n        while (obj != null && index < length) {\n            obj = obj[key[index++]];\n        }\n        return (index === length) ? obj : defaultValue;\n    };\n}\nexport function functor(v) {\n    return typeof v === \"function\" ? v : () => v;\n}\nexport function createVerticalLinearGradient(stops) {\n    return function (moreProps, ctx) {\n        const { chartConfig: { height } } = moreProps;\n        const grd = ctx.createLinearGradient(0, height, 0, 0);\n        stops.forEach((each) => {\n            grd.addColorStop(each.stop, each.color);\n        });\n        return grd;\n    };\n}\nexport function getClosestItemIndexes2(array, value, accessor) {\n    let left = bisector(accessor).left(array, value);\n    left = Math.max(left - 1, 0);\n    let right = Math.min(left + 1, array.length - 1);\n    const item = accessor(array[left]);\n    if (item >= value && item <= value) {\n        right = left;\n    }\n    return { left, right };\n}\nexport function getClosestValue(inputValue, currentValue) {\n    const values = isArray(inputValue) ? inputValue : [inputValue];\n    const diff = values\n        .map((each) => each - currentValue)\n        .reduce((diff1, diff2) => Math.abs(diff1) < Math.abs(diff2) ? diff1 : diff2);\n    return currentValue + diff;\n}\n// @ts-ignore\nexport function find(list, predicate, context = this) {\n    for (let i = 0; i < list.length; ++i) {\n        if (predicate.call(context, list[i], i, list)) {\n            return list[i];\n        }\n    }\n    return undefined;\n}\nexport function d3Window(node) {\n    const d3win = node\n        && (node.ownerDocument && node.ownerDocument.defaultView\n            || node.document && node\n            || node.defaultView);\n    return d3win;\n}\nexport const MOUSEENTER = \"mouseenter.interaction\";\nexport const MOUSELEAVE = \"mouseleave.interaction\";\nexport const MOUSEMOVE = \"mousemove.pan\";\nexport const MOUSEUP = \"mouseup.pan\";\nexport const TOUCHMOVE = \"touchmove.pan\";\nexport const TOUCHEND = \"touchend.pan touchcancel.pan\";\nexport function getTouchProps(touch) {\n    if (!touch) {\n        return {};\n    }\n    return {\n        pageX: touch.pageX,\n        pageY: touch.pageY,\n        clientX: touch.clientX,\n        clientY: touch.clientY,\n    };\n}\nexport function getClosestItemIndexes(array, value, accessor) {\n    let lo = 0;\n    let hi = array.length - 1;\n    while (hi - lo > 1) {\n        const mid = Math.round((lo + hi) / 2);\n        if (accessor(array[mid]) <= value) {\n            lo = mid;\n        }\n        else {\n            hi = mid;\n        }\n    }\n    // for Date object === does not work, so using the <= in combination with >=\n    // the same code works for both dates and numbers\n    if (accessor(array[lo]).valueOf() === value.valueOf()) {\n        hi = lo;\n    }\n    if (accessor(array[hi]).valueOf() === value.valueOf()) {\n        lo = hi;\n    }\n    if (accessor(array[lo]) < value && accessor(array[hi]) < value) {\n        lo = hi;\n    }\n    if (accessor(array[lo]) > value && accessor(array[hi]) > value) {\n        hi = lo;\n    }\n    return { left: lo, right: hi };\n}\nexport function getClosestItem(array, value, accessor) {\n    const { left, right } = getClosestItemIndexes(array, value, accessor);\n    if (left === right) {\n        return array[left];\n    }\n    const closest = (Math.abs(accessor(array[left]) - value) < Math.abs(accessor(array[right]) - value))\n        ? array[left]\n        : array[right];\n    return closest;\n}\nexport function head(array, accessor) {\n    if (accessor && array) {\n        let value;\n        // tslint:disable-next-line: prefer-for-of\n        for (let i = 0; i < array.length; i++) {\n            value = array[i];\n            if (isDefined(accessor(value))) {\n                return value;\n            }\n        }\n        return undefined;\n    }\n    return array ? array[0] : undefined;\n}\nexport function tail(array, accessor) {\n    if (accessor && array) {\n        return array.map(accessor).slice(1);\n    }\n    return array ? array.slice(1) : undefined;\n}\nexport const first = head;\nexport function last(array, accessor) {\n    if (accessor && array) {\n        let value;\n        for (let i = array.length - 1; i >= 0; i--) {\n            value = array[i];\n            if (isDefined(accessor(value))) {\n                return value;\n            }\n        }\n        return undefined;\n    }\n    const length = array ? array.length : 0;\n    return length ? array[length - 1] : undefined;\n}\nexport const isDefined = (d) => {\n    return d !== null && d !== undefined;\n};\nexport function isNotDefined(d) {\n    return !isDefined(d);\n}\nexport function isObject(d) {\n    return isDefined(d) && typeof d === \"object\" && !Array.isArray(d);\n}\nexport const isArray = Array.isArray;\nexport function touchPosition(touch, e) {\n    const container = e.target;\n    const rect = container.getBoundingClientRect();\n    const x = touch.clientX - rect.left - container.clientLeft;\n    const y = touch.clientY - rect.top - container.clientTop;\n    const xy = [Math.round(x), Math.round(y)];\n    return xy;\n}\nexport function mousePosition(e, defaultRect) {\n    const container = e.currentTarget;\n    const rect = defaultRect || container.getBoundingClientRect();\n    const x = e.clientX - rect.left - container.clientLeft;\n    const y = e.clientY - rect.top - container.clientTop;\n    const xy = [Math.round(x), Math.round(y)];\n    return xy;\n}\nexport function clearCanvas(canvasList, ratio) {\n    canvasList.forEach((each) => {\n        each.setTransform(1, 0, 0, 1, 0, 0);\n        each.clearRect(-1, -1, each.canvas.width + 2, each.canvas.height + 2);\n        each.scale(ratio, ratio);\n    });\n}\nexport function capitalizeFirst(str) {\n    return str.charAt(0).toUpperCase() + str.substring(1);\n}\nexport function toObject(array, iteratee = identity) {\n    return array.reduce((returnObj, a) => {\n        const [key, value] = iteratee(a);\n        return Object.assign(Object.assign({}, returnObj), { [key]: value });\n    }, {});\n}\n// copied from https://github.com/lodash/lodash/blob/master/mapValue.js\nexport function mapValue(object, iteratee) {\n    object = Object(object);\n    const result = {};\n    Object.keys(object).forEach((key) => {\n        const mappedValue = iteratee(object[key], key, object);\n        if (isDefined(mappedValue)) {\n            result[key] = mappedValue;\n        }\n    });\n    return result;\n}\n// copied from https://github.com/lodash/lodash/blob/master/mapObject.js\nexport function mapObject(object = {}, iteratee = identity) {\n    const props = Object.keys(object);\n    const result = new Array(props.length);\n    props.forEach((key, index) => {\n        // @ts-ignore\n        result[index] = iteratee(object[key], key, object);\n    });\n    return result;\n}\nexport function replaceAtIndex(array, index, value) {\n    if (isDefined(array) && array.length > index) {\n        return array.slice(0, index)\n            .concat(value)\n            .concat(array.slice(index + 1));\n    }\n    return array;\n}\n// copied from https://github.com/lodash/lodash/blob/master/forOwn.js\nexport function forOwn(obj, iteratee) {\n    const object = Object(obj);\n    Object.keys(object)\n        .forEach((key) => iteratee(object[key], key, object));\n}\n//# sourceMappingURL=index.js.map"]},"metadata":{},"sourceType":"module"}